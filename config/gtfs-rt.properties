# RTD GTFS-RT Pipeline Configuration
# Configuration settings for the SIRI/RailComm to GTFS-RT transformation pipeline

# =============================================================================
# KAFKA CONFIGURATION
# =============================================================================

# Kafka Bootstrap Servers
kafka.bootstrap.servers=localhost:9092

# Input Topics (source data from existing receivers)
kafka.topic.bus.siri=rtd.bus.siri
kafka.topic.rail.comm=rtd.rail.comm

# Consumer Group ID
kafka.consumer.group.id=gtfs-rt-generator

# =============================================================================
# GTFS-RT FEED CONFIGURATION  
# =============================================================================

# Output directory for generated protobuf files
gtfs.rt.output.directory=data/gtfs-rt

# Feed generation window (seconds) - how often to generate feeds
gtfs.rt.feed.generation.window.seconds=30

# Feed publisher information
gtfs.rt.feed.publisher.name=RTD Denver
gtfs.rt.feed.publisher.url=https://www.rtd-denver.com

# =============================================================================
# HTTP PUBLISHER CONFIGURATION
# =============================================================================

# HTTP server port for serving protobuf files
gtfs.rt.publisher.port=8084

# Cache max age for HTTP responses (seconds)
gtfs.rt.publisher.cache.max.age.seconds=30

# File staleness warning threshold (seconds)
gtfs.rt.publisher.stale.file.threshold.seconds=300

# =============================================================================
# DATA VALIDATION CONFIGURATION
# =============================================================================

# Colorado geographic boundaries for coordinate validation
validation.coordinate.min.latitude=39.0
validation.coordinate.max.latitude=41.0
validation.coordinate.min.longitude=-106.0
validation.coordinate.max.longitude=-104.0

# Speed validation (mph)
validation.max.speed.mph=80.0

# Delay validation (seconds)
validation.max.delay.seconds=3600

# =============================================================================
# TRANSFORMATION SETTINGS
# =============================================================================

# SIRI transformation settings
siri.default.route.type=3
siri.coordinate.validation.enabled=true

# RailComm transformation settings
railcomm.default.route.type=1
railcomm.coordinate.validation.enabled=true

# Light rail route IDs (comma-separated)
railcomm.light.rail.routes=A,B,D,E,F,G,H,L,N,R,W

# =============================================================================
# LOGGING AND MONITORING
# =============================================================================

# Health check interval (seconds)
monitoring.health.check.interval.seconds=60

# Log level for GTFS-RT components
logging.gtfs.rt.level=INFO

# =============================================================================
# ENDPOINT CONFIGURATION
# =============================================================================

# RTD-compatible endpoint paths (do not change unless needed)
endpoints.vehicle.positions=/files/gtfs-rt/VehiclePosition.pb
endpoints.trip.updates=/files/gtfs-rt/TripUpdate.pb
endpoints.alerts=/files/gtfs-rt/Alerts.pb

# Alternative API endpoint paths
endpoints.api.vehicle.positions=/api/download/gtfs-rt/VehiclePosition.pb
endpoints.api.trip.updates=/api/download/gtfs-rt/TripUpdate.pb
endpoints.api.alerts=/api/download/gtfs-rt/Alerts.pb

# Status and health endpoints
endpoints.status=/gtfs-rt/status
endpoints.health=/gtfs-rt/health
endpoints.info=/gtfs-rt

# =============================================================================
# NOTES
# =============================================================================

# This configuration file documents the settings used by the GTFS-RT pipeline.
# Most settings are currently hardcoded in the Java classes but can be
# externalized to this configuration file in future versions.
#
# To use this configuration file:
# 1. Place it in the config/ directory
# 2. Modify the Java classes to read from this file using Properties
# 3. Pass the config file path as a system property: -Dconfig.file=config/gtfs-rt.properties
#
# Current Implementation:
# - Settings are hardcoded in GTFSRTPipeline.java, GTFSRTPublisher.java, etc.
# - This file serves as documentation of current values
# - Future enhancement: externalize configuration to this file